<?php

namespace App\Http\Controllers\Client;

use Illuminate\Http\Request;
use App\Http\Controllers\Controller;
use App\Models\TestingModels\MainDailySalesModel;

class ProductPreviewController extends Controller
{
    public function __construct()
    {
        $this->middleware('auth.manager');
    }
    public function getData($g){
        $object = array();
    
        $object[0] = array(
            "2017-12-31"=>10.1363,
            "2018-01-01"=>20.44,
            "2018-01-02"
            =>30.7563
            
            ,"2018-01-03"
            =>40.6513
            
            ,"2018-01-04"
            =>50.2263
            
            ,"2018-01-05"
            =>60.1738
            
            ,"2018-01-06"
            =>70.8363
            
            ,"2018-01-07"
            =>80.495
            
            ,"2018-01-08"
            =>90.3575
            
            ,"2018-01-09"
            =>100.4738
            
            ,"2018-01-10"
            =>110.7225
            
            ,"2018-01-11"
            =>120.26
            
            ,"2018-01-12"
            =>130.715
            
            ,"2018-01-13"
            =>140.785
            
            ,"2018-01-14"
            =>150.0288
            
            ,"2018-01-15"
            =>160.9013
            
            ,"2018-01-16"
            =>170.02
            
            ,"2018-01-17"
            =>180.2488
            
            ,"2018-01-18"
            =>190.6475
            
            ,"2018-01-19"
            =>200.925
            
            ,"2018-01-20"
            =>210.6413
            
            ,"2018-01-21"
            =>220.8588
            
            ,"2018-01-22"
            =>230.15
            
            ,"2018-01-23"
            =>240.8263
            
            ,"2018-01-24"
            =>250.52
            
            ,"2018-01-25"
            =>260.2375
            
            ,"2018-01-26"
            =>270.0638
            
            ,"2018-01-27"
            =>280.1538
            
            ,"2018-01-28"
            =>290.4675
            
            ,"2018-01-29"
            =>300.3938
            
            ,"2018-01-30"
            =>310.9975
            
            ,"2018-01-31"
            =>320.5063
            
            ,"2018-02-01"
            =>330.5763
            
            ,"2018-02-02"
            =>340.63
            
            ,"2018-02-03"
            =>350.3913
            
            ,"2018-02-04"
            =>360.6488
            
            ,"2018-02-05"
            =>370.26
            
            ,"2018-02-06"
            =>380.3863
            
            ,"2018-02-07"
            =>390.8038
            
            ,"2018-02-08"
            =>400.2363
            
            ,"2018-02-09"
            =>410.8388
            
            ,"2018-02-10"
            =>420.6125
            
            ,"2018-02-11"
            =>430.7963
            
            ,"2018-02-12"
            =>440.2125
            
            ,"2018-02-13"
            =>450.2438
            
            ,"2018-02-14"
            =>460.84
            
            ,"2018-02-15"
            =>470.4888
            
            ,"2018-02-16"
            =>480.7125
            
            ,"2018-02-17"
            =>490.1475
        ); 
        $object[1] = array(  "2018-03-13"
            =>1030.1475
            
            ,"2018-03-14"
            =>740.8975
            
            ,"2018-03-15"
            =>750.9938
            
            ,"2018-03-16"
            =>160.3275
            
            ,"2018-03-17"
            =>770.1088
            
            ,"2018-03-18"
            =>780.0225
            
            ,"2018-03-19"
            =>790.1913
            
            ,"2018-03-20"
            =>300.9038
            
            ,"2018-03-21"
            =>810.4
            
            ,"2018-03-22"
            =>820.8913
            
            ,"2018-03-23"
            =>830.7438
            
            ,"2018-03-24"
            =>240.8938
            
            ,"2018-03-25"
            =>850.835
            
            ,"2018-03-26"
            =>860.3363
            
            ,"2018-03-27"
            =>870.1575
            
            ,"2018-03-28"
            =>880.205
            
            ,"2018-03-29"
            =>890.4875
            
            ,"2018-03-30"
            =>900.3213
            
            ,"2018-03-31"
            =>910.0175
            
            ,"2018-04-01"
            =>920.74
        
        );
    
        $object[2] = array(
            "2019-03-03"
            =>630.6513
            ,"2018-03-02"
            =>620.5213,
            "2018-02-18"
            =>500.63
            ,"2018-02-23"
            =>5500.4625
            ,"2018-02-19"
            =>510.7238
            ,"2018-02-26"
            =>580.0825
            ,"2018-02-27"
            =>50090.4188
            ,"2018-02-28"
            =>6000.6413
            ,"2018-03-01"
            =>6010.59
            ,"2018-02-25"
            =>570.46
            ,"2018-03-04"
            =>6040.7313
            ,"2018-03-05"
            =>650.9825
            ,"2017-02-24"
            =>56000.3825
            ,"2016-02-22"
            =>540.4263
            ,"2014-02-20"
            =>52000.2413
            ,"2013-03-11"
            =>710.7413
            ,"2012-03-09"
            =>690.05
            ,"2012-03-06"
            =>6600.5275
            ,"2011-03-08"
            =>680.2838
            ,"2011-03-10"
            =>70000.1638
            ,"2010-03-07"
            =>670.8
            ,"2007-03-12"
            =>720.2713
            ,"2001-02-21"
            =>530.1725
        );  
        return ($object[$g-1]);
    }//end function
    
    public function getLiveData($asin){
        $data = MainDailySalesModel::select("shipped_cogs","sale_date")->where("asin",$asin)->limit(50000)->get();
        $newData = [];
        foreach ($data as $key => $value) {
            $newData[$value->sale_date] = $value->shipped_cogs;
        }
        return $newData;
    }//end function
}//end class
